<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="ca.toyota.demoreservation.demoreservation.controller.Home" height="100%">
	<f:DynamicPage xmlns:f="sap.f" id="dynamicPageId" headerExpanded="{/headerExpanded}">
		<f:header>
			<f:DynamicPageHeader pinnable="false">
				<f:content>
					<fb:FilterBar xmlns:fb="sap.ui.comp.filterbar" id="filterbar" filterContainerWidth="14rem" showGoOnFB="true" useToolbar="false" search="onSearch" reset="onReset">
						<fb:filterItems>
							<fb:FilterItem label="{i18n>lblVIN}" name="V">
								<fb:control>
									<Input xmlns="sap.m" id="vinFilter" placeholder="{i18n>plVIN}" submit="onSearch"/>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblZone}" name="A">
								<fb:control>
									<ComboBox xmlns="sap.m" id="zoneFilter" placeholder="{i18n>plZone}" items="{ path: 'DemoOdataModel>/ZC_ZONES', filters: {path: 'spras',operator: 'EQ',value1: 'E'}, sorter : {path : 'bezei'} }" change="onSelectChange">
										<core:Item xmlns:core="sap.ui.core" text="{DemoOdataModel>bezei}" key="{DemoOdataModel>vkbur}"/>
									</ComboBox>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblYear}" name="D">
								<fb:control>
									<ComboBox xmlns="sap.m" id="yearFilter" placeholder="{i18n>plYear}" items="{YearModel>/}" change="onSelectChange">
										<core:Item xmlns:core="sap.ui.core" text="{YearModel>dtext}" key="{YearModel>dkey}"/>
									</ComboBox>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblSeries}" name="B">
								<fb:control>
									<ComboBox xmlns="sap.m" id="seriesFilter" placeholder="{i18n>plSeries}" items="{ path: 'DemoOdataModel>/ZC_SERIES', sorter : {path : 'TCISeriesDescriptionEN'}, filters: [{path: 'zzzadddata2',operator: 'EQ',value1: 'X'}, {path: 'ModelSeriesNo',operator: 'NE',value1: 'L/C'}, {path: 'zzzadddata4',operator: 'NE',value1: '0'}]}" change="onSelectChange" filterSecondaryValues="true" showSecondaryValues="true">
										<core:ListItem xmlns:core="sap.ui.core" text="{DemoOdataModel>TCISeriesDescriptionEN}" key="{DemoOdataModel>ModelSeriesNo}" additionalText="{DemoOdataModel>ModelSeriesNo}"/>
									</ComboBox>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblModel}" name="C">
								<fb:control>
									<Input xmlns="sap.m" type="Text" id="modelFilter" placeholder="{i18n>plModel}" suggestionItems="{DemoOdataModel>/ZC_MODEL_YEAR}" suggestionItemSelected="suggestionItemSelected" valueHelpRequest="handleModelValueHelp" showValueHelp="true" showSuggestion="true" textFormatMode="KeyValue">
										<suggestionItems>
											<core:ListItem xmlns:core="sap.ui.core" key="{DemoOdataModel>model}" text="{DemoOdataModel>model_desc_en}"/>
										</suggestionItems>
									</Input>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblSuffix}" name="G">
								<fb:control>
									<Input xmlns="sap.m" type="Text" id="suffixFilter" placeholder="{i18n>plSuffix}" suggestionItems="{ path: 'DemoOdataModel>/ZC_MODEL_YEAR'}" suggestionItemSelected="suggestionItemSelected" valueHelpRequest="handleSuffixValueHelp" showValueHelp="true" showSuggestion="true" textFormatMode="KeyValue">
										<suggestionItems>
											<core:ListItem xmlns:core="sap.ui.core" key="{DemoOdataModel>suffix}" text="{DemoOdataModel>suffix}"/>
										</suggestionItems>
									</Input>
								</fb:control>
							<!--	<fb:control>-->
							<!--		<ComboBox xmlns="sap.m" id="suffixFilter" placeholder="{i18n>plSuffix}" items="{ path: 'DemoOdataModel>/ZC_MODEL_YEAR', filters: [{path: 'model_year',operator: 'EQ',value1: 'model_year'}, {path: 'tci_series',operator: 'EQ',value1: 'tci_series'}, {path: 'model',operator: 'EQ',value1: 'model'}]}" filterSecondaryValues="true" showSecondaryValues="true">-->
							<!--			<core:ListItem xmlns:core="sap.ui.core" text="{DemoOdataModel>suffix}" key="{DemoOdataModel>suffix}"/>-->
							<!--		</ComboBox>-->
							<!--	</fb:control>-->
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblStatus}" name="F">
								<fb:control>
									<!--<Input id="inpStatus" placeholder="Enter Status"/>-->
									<ComboBox xmlns="sap.m" id="inpStatus" placeholder="{i18n>plStatus}" items="{path: 'vehicles>/FilterData/ReservationStatus'}" change="onSelectChange">
										<core:Item xmlns:core="sap.ui.core" text="{vehicles>name}" key="{vehicles>key}"/>
									</ComboBox>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblReserver}" name="RI" visible="{= ${UserDataModel>/AdminVisible} === true ? false : true }">
								<fb:control>
									<Input xmlns="sap.m" id="ReserverFilter" placeholder="{i18n>plReserver}"/>
								</fb:control>
							</fb:FilterItem>

						</fb:filterItems>
					</fb:FilterBar>
				</f:content>
			</f:DynamicPageHeader>
		</f:header>
		<!-- DynamicPage Content -->
		<f:content>
			<FlexBox xmlns="sap.m" alignItems="Start" direction="Column">
			<items>
			<VBox>
                    <Button type="Default" id="MyResButton" text="{i18n>btnMyResrv}" enabled="true" width="auto" visible="true" press="onMyReservationPress" iconDensityAware="false" iconFirst="true"/>
                    <Button type="Default" id="AllResButton" text="{i18n>btnAllResrv}" enabled="true" width="auto" visible="{UserDataModel>/AdminVisible}" press="onAllReservationPress" iconDensityAware="false" iconFirst="true"/>
			</VBox>
			<Table id="idMyReservationsTable" items="{ path: 'DemoOdataModel>/vehicleListSet', filters: {path: 'ZZZONE',operator: 'EQ',value1: '3000'}, sorter : {path : 'SeriesDesc'} }" fixedLayout="false" updateFinished="onUpdateFinished" growing="true">
				<headerToolbar>
					<Toolbar>
						<Title id="tabTitle" level="H2"/>
						<ToolbarSpacer/>
						<Button class="sapMBtnIconSort" tooltip="{i18n>tooltipSort}" icon="sap-icon://sort" press="handleSortButtonPressed"/>
					</Toolbar>
				</headerToolbar>
<columns>
					<Column width="3rem" hAlign="Center">
						<Text text="{i18n>lblSeries}" width="auto"/>
					</Column>
					<Column width="13rem" hAlign="Center">
						<Text text="{i18n>lblModel}" width="auto"/>
					</Column>
					<Column width="8rem" hAlign="Center">
						<Text text="{i18n>lblZone}" width="auto"/>
					</Column>
					<Column width="7rem" hAlign="Center">
						<Text text="{i18n>lblPrice}" width="auto"/>
					</Column>
					<Column width="8rem" hAlign="Center">
						<Text text="{i18n>lblEndDate}" width="auto"/>
					</Column>
					<Column width="5rem" hAlign="Center">
						<Text text="{i18n>lblYear}" width="auto"/>
					</Column>
					<Column width="8rem" hAlign="Center">
						<Text text="{i18n>lblColour}" width="auto"/>
					</Column>
					<Column width="7rem" hAlign="Center">
						<Text text="{i18n>lblDriver}" width="auto"/>
					</Column>
					<Column width="7rem" hAlign="Center">
						<Text text="{i18n>lblReserver}" width="auto"/>
					</Column>
					<Column width="4rem" hAlign="Center">
						<Text text="{i18n>lblSuffix}" width="auto"/>
					</Column>
					<Column width="4rem" hAlign="Center">
						<Text text="{i18n>lblRepaired}" width="auto"/>
					</Column>
					<Column width="4rem" hAlign="Center">
						<Text text="{i18n>lblStatus}" width="auto"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press="onListItemPress" vAlign="Middle">
						<cells>
							<Text text="{DemoOdataModel>ZZSERIES}" width="3rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>ModelDesc}" width="13rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>ZoneDesc}" width="8rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>Price}" width="7rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>EndDate}" width="8rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>ZZMOYR}" width="5rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>ColorDesc}" width="8rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>Driver}" width="7rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>Reserver}" width="7rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>ZZSUFFIX}" width="4rem" textDirection="LTR"/>
							<Text text="{path: 'DemoOdataModel>Repair' ,formatter: '.formatRepair'}" width="4rem" textDirection="LTR"/>
							<Text text="{DemoOdataModel>Status}" width="4rem" textDirection="LTR"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
				</items>
				</FlexBox>
		</f:content>
	</f:DynamicPage>
</mvc:View>