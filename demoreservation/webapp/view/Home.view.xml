<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="ca.toyota.demoreservation.demoreservation.controller.Home" height="100%">
	<f:DynamicPage xmlns:f="sap.f" id="dynamicPageId" headerExpanded="{/headerExpanded}">
		<f:header>
			<f:DynamicPageHeader pinnable="false">
				<f:content>
					<fb:FilterBar xmlns:fb="sap.ui.comp.filterbar" id="filterbar" filterContainerWidth="14rem" showGoOnFB="true" useToolbar="false" search="onSearch" reset="onReset">
						<fb:filterItems>
							<fb:FilterItem label="{i18n>lblVIN}" name="V">
								<fb:control>
									<Input xmlns="sap.m" id="vinFilter" placeholder="{i18n>plVIN}"/>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblZone}" name="A">
								<fb:control>
									<ComboBox xmlns="sap.m" id="zoneFilter" placeholder="{i18n>plZone}" items="{ path: '/ZC_ZONES', filters: {path: 'spras',operator: 'EQ',value1: 'E'} }" change="onSelectChange">
										<core:Item xmlns:core="sap.ui.core" text="{bezei}" key="{vkbur}"/>
									</ComboBox>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblYear}" name="D">
								<fb:control>
									<ComboBox xmlns="sap.m" id="yearFilter" placeholder="{i18n>plYear}" items="{YearModel>/}" change="onSelectChange">
										<core:Item xmlns:core="sap.ui.core" text="{YearModel>dtext}" key="{YearModel>dkey}"/>
									</ComboBox>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblSeries}" name="B">
								<fb:control>
									<ComboBox xmlns="sap.m" id="seriesFilter" placeholder="{i18n>plSeries}" items="{/zc_mmfields}" change="onSelectChange" filterSecondaryValues="true" showSecondaryValues="true">
										<core:ListItem xmlns:core="sap.ui.core" text="{TCISeriesDescriptionEN}" key="{ModelSeriesNo}" additionalText="{ModelSeriesNo}"/>
									</ComboBox>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblModel}" name="C">
								<fb:control>
									<Input xmlns="sap.m" type="Text" id="modelFilter" placeholder="{i18n>plModel}" suggestionItems="{/ZC_MODEL_YEAR}" suggestionItemSelected="suggestionItemSelected" valueHelpRequest="handleModelValueHelp" showValueHelp="true" showSuggestion="true" textFormatMode="KeyValue">
										<suggestionItems>
											<core:ListItem xmlns:core="sap.ui.core" text="{model_desc_en}" key="{model}"/>
										</suggestionItems>
									</Input>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblSuffix}" name="G">
								<fb:control>
									<ComboBox xmlns="sap.m" id="suffixFilter" placeholder="{i18n>plSuffix}" items="{/ZC_MODEL_YEAR}" filterSecondaryValues="true" showSecondaryValues="true">
										<core:ListItem xmlns:core="sap.ui.core" text="{suffix}" key="{suffix}"/>
									</ComboBox>
								</fb:control>
							</fb:FilterItem>
							<fb:FilterItem label="{i18n>lblStatus}" name="F">
								<fb:control>
									<!--<Input id="inpStatus" placeholder="Enter Status"/>-->
									<ComboBox xmlns="sap.m" id="inpStatus" placeholder="{i18n>plStatus}" items="{path: 'vehicles>/FilterData/ReservationStatus'}" change="onSelectChange">
										<core:Item xmlns:core="sap.ui.core" text="{vehicles>name}" key="{vehicles>key}"/>
									</ComboBox>

								</fb:control>
							</fb:FilterItem>
						</fb:filterItems>
					</fb:FilterBar>
				</f:content>
			</f:DynamicPageHeader>
		</f:header>
		<!-- DynamicPage Content -->
		<f:content>
			<FlexBox xmlns="sap.m" alignItems="Start" direction="Column">
			<items>
			<VBox>
                    <Button type="Default" id="MyResButton" text="{i18n>btnMyResrv}" enabled="true" width="auto" visible="true" press="onMyReservationPress" iconDensityAware="false" iconFirst="true"/>
                    <Button type="Default" id="AllResButton" text="{i18n>btnAllResrv}" enabled="true" width="auto" visible="{UserDataModel>/AdminVisible}" press="onAllReservationPress" iconDensityAware="false" iconFirst="true"/>
			</VBox>
			<Table id="idMyReservationsTable" items="{ path: '/vehicleListSet', filters: {path: 'ZZZONE',operator: 'EQ',value1: '3000'}, sorter : {path : 'SeriesDesc'} }" fixedLayout="false" updateFinished="onUpdateFinished" growing="true">
				<headerToolbar>
					<Toolbar>
						<Title id="tabTitle" level="H2"/>
						<ToolbarSpacer/>
						<Button class="sapMBtnIconSort" tooltip="{i18n>tooltipSort}" icon="sap-icon://sort" press="handleSortButtonPressed"/>
					</Toolbar>
				</headerToolbar>
<columns>
					<Column width="5rem" minScreenWidth="Phone">
						<Text text="{i18n>lblSeries}" width="auto"/>
					</Column>
					<Column width="17rem" minScreenWidth="Phone">
						<Text text="{i18n>lblModel}" width="auto"/>
					</Column>
					<Column minScreenWidth="Phone">
						<Text text="{i18n>lblZone}" width="auto"/>
					</Column>
					<Column width="10rem" minScreenWidth="Phone">
						<Text text="{i18n>lblPrice}" width="auto"/>
					</Column>
					<Column width="10rem" minScreenWidth="Phone">
						<Text text="{i18n>lblEndDate}" width="auto"/>
					</Column>
					<Column width="5rem" minScreenWidth="Phone">
						<Text text="{i18n>lblYear}" width="auto"/>
					</Column>
					<Column minScreenWidth="Phone">
						<Text text="{i18n>lblColour}" width="auto"/>
					</Column>
					<Column minScreenWidth="Phone">
						<Text text="{i18n>lblDriver}" width="auto"/>
					</Column>
					<Column width="5rem" minScreenWidth="Phone">
						<Text text="{i18n>lblSuffix}" width="auto"/>
					</Column>
					<Column width="6rem" minScreenWidth="Phone">
						<Text text="{i18n>lblRepaired}" width="auto"/>
					</Column>
					<Column minScreenWidth="Phone">
						<Text text="{i18n>lblStatus}" width="auto"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press="onListItemPress" vAlign="Middle">
						<cells>
							<Text text="{ZZSERIES}" width="5rem"/>
							<Text text="{ModelDesc}"/>
							<Text text="{ZoneDesc}"/>
							<Text text="{Price}"/>
							<Text text="{EndDate}"/>
							<Text text="{ZZMOYR}" width="5rem"/>
							<Text text="{ColorDesc}"/>
							<Text text="{Driver}"/>
							<Text text="{ZZSUFFIX}"/>
							<Text text="{path: 'Repair' ,formatter: '.formatRepair'}" width="6rem"/>
							<Text text="{Status}"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
				</items>
				</FlexBox>
		</f:content>
	</f:DynamicPage>
</mvc:View>